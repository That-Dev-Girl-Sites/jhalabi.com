<!DOCTYPE html>
<html lang="en">

<head>
  <title>
    Adding a character limit to a text area using YUI | Joni Halabi</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="/css/styles.css">

  <meta name="description" content="Joni Halabi is a web developer, author of Sweet Little You, and conference speaker who writes technical articles, as well as creative works that focus on life as a single mother by choice.">
  <meta name="keywords" content="web developer, wordpress, author, writer, speaker, instructor, teacher, gutenberg, javascript, sweet little you, kid lit, single mother by choice, donor conceived">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">

  <meta property="og:title" content="Adding a character limit to a text area using YUI">
  <meta property="og:url" content="//jhalabi.com//blog/2011/07/character-limit-in-yui/">
  <meta property="og:description" content="In the UI world, it is a good idea to let the users know about any constraints they have on any form fields.">

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/site.webmanifest">
  <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#b26e63">
  <link rel="shortcut icon" href="/assets/icons/favicon.ico">
  <meta name="msapplication-TileColor" content="#222222">
  <meta name="msapplication-config" content="/assets/icons/browserconfig.xml">
  <meta name="theme-color" content="#222222">
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LMXWQM7X1W"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LMXWQM7X1W');
  </script>
</head>



<body>
  <nav aria-label="Skip link">
    <a href="#main" class="skip-link">Skip to content</a>
  </nav>

  <header class="site-header">
    
      <p class="nameplate">
        <a href="/">Joni Halabi</a>
      </p>
    

    <p class="tagline">
      web developer, author, speaker, single mom, runner, music lover, chatty introvert
    </p>

    <nav class="nav-primary" aria-label="Main">
      <ul>
        <li ><a href="/" aria-label="Home">..</a></li>
        <li ><a href="/book/"     >Book</a></li>
        <li class="current"><a href="/blog/"     >Blog</a></li>
        <li ><a href="/speaking/" >Speaking</a></li>
        <li ><a href="/coding/"   >Coding</a></li>
        <li ><a href="/contact/"  >Contact</a></li>
      </ul>
    </nav>
  </header>

<main id="main">

  <div class="post-meta">
    <p class="categories">
      
        
      
        
          <a href="/blog/development/" class="category development">development</a>
        
      
    </p>

    <h1 id="post-title">Adding a character limit to a text area using YUI</h1>

    <p class="date">
      29 July 2011
    </p>
  </div>

  <article class="post-article" aria-labelledby="post-title">
    <p>In the UI world, it is a good idea to let the users know about any constraints they have on any form fields.  We all know this.  There are a million ways to do this –- through error messages, help text, and so on.  For character limits on input fields, the best way to avoid a user error is to limit the number of characters the user can physically type in the field.</p>
<p>This is super easy for input boxes.  Simply add the <em>maxlength</em> attribute to the input HTML filed and <em>voila</em>!</p>
<p>However, text area fields are a bit trickier.  Character limits are not built into text area fields just yet as they are with input fields, so it is necessary to have a JavaScript implementation if you need to limit the text prior to submitting a form.</p>
<p>So… I decided to write one.  I sort of ran away with this example, mostly because there are so many things to consider from a user perspective.  If someone is entering in a longer piece of text – for example, an e-mail to a customer service department or a review on a product – is it really better to just cut them off from entering more text before they have finished their thought?  True, the user will not be able to submit the form until their giant essay has been tamed to fit within the character constraints.  From a programmatic perspective, it is better to simply cut the user off.  This ensures a successful form submission.</p>
<p>On the other hand, there are some people <em>(like me)</em> who would much rather finish their thought, and then go back and edit the text down to size.  In this case, it is much more useful to have an <em>(obvious)</em> indicator of how long the entered text is, so that the user knows how much needs to be cut.</p>
<p>Long story short <em>(I know… too late)</em>, I decided to create a proof of concept for limiting character limits that contains options for both scenarios above.</p>
<h2>Step 1: Create a web page.</h2>
<p>First, I created a very simple page with 3 elements:</p>
<ol>
<li>A text area input field.</li>
<li>A message letting the user know how many characters they have typed and how many characters they are allowed.</li>
<li>A check box to determine whether or not the text box will allow the user to continue to enter text once they have reached the character limit.</li>
</ol>
<h2>Step 2: Write the JavaScript.</h2>
<p>The JavaScript part of this POC contains 3 major functions:</p>
<h3>Function to update the text area alert</h3>
<p>This function is called as soon as the page loads and then each time a key is pressed <em>(on the keyup event)</em> to update the number of characters used in the character limit message to the user.  Also, if the user has entered more characters than allowed by the limit, the truncate text area function is called.</p>
<pre><code class="language-javascript">function updateTextAreaAlert() {
  var text = Dom.get(&quot;yui-textarea&quot;).value;
  var charsUsed = text.length || 0;

  if (charsUsed &gt;= textLimit) {
    Dom.addClass(&quot;yui-textarea-chars&quot;, &quot;over-limit&quot;);
    truncateTextArea();
  }
  else if (charsUsed &gt;= textLimit * 0.9) {
    Dom.addClass(&quot;yui-textarea-chars&quot;, &quot;near-limit&quot;);
  }
  else {
    Dom.removeClass(&quot;yui-textarea-chars&quot;, &quot;near-limit&quot;);
    Dom.removeClass(&quot;yui-textarea-chars&quot;, &quot;over-limit&quot;);
  }

  Dom.get(&quot;yui-textarea-chars&quot;).innerHTML = charsUsed;
}
</code></pre>
<h3>Function to check the text area limit.</h3>
<p>This function checks to see if the value of the text area field is longer than the set character limit.  If so, the function to truncate the text area’s contents is called.  This function is called each time a key is pressed on the key down event.  This is to avoid issues with the text “jumping” – the text area contents are actually updated after the key down event is called – so we call this function on key down so that we have a chance to suppress the content update if the user is over the character limit.</p>
<pre><code class="language-javascript">function checkTextAreaLimit(e) {
  var text = Dom.get(&quot;yui-textarea&quot;).value;

  // Check to see if a delete key was pressed; backspace is 8; delete is 46.
   var key = (window.event) ? e.which: e.keyCode;
   var pressedDel = (key == 8 || key == 46) ? true : false;

  if (!allowOverLimit() &amp;&amp; text.length &gt;= textLimit &amp;&amp; !pressedDel) {
    Event.preventDefault(e);
     truncateTextArea();
   }
}
</code></pre>
<h3>Function to truncate the contents of the text area.</h3>
<p>This function truncates the text in the text area field if the user is over the character limit.  This function is called by the two functions listed above.</p>
<pre><code class="language-javascript">function truncateTextArea() {
  var text = Dom.get(&quot;yui-textarea&quot;).value;

  if (!allowOverLimit()) {
     Dom.get(&quot;yui-textarea&quot;).value = Dom.get(&quot;yui-textarea&quot;).value.substring(0, textLimit);
     Dom.get(&quot;yui-textarea-chars&quot;).innerHTML = Dom.get(&quot;yui-textarea&quot;).value.length;
  }
}
</code></pre>

  </article>

  <div class="post-share">
    Share this article: 

    <a class="ri-bluesky-fill" target="_blank" href="https://bsky.app/intent/compose?text=Check out “Adding a character limit to a text area using YUI” by @jonihalabi.bsky.social https://jhalabi.com/blog/2011/07/character-limit-in-yui/">
      <span class="sr-only">Twitter</span>
    </a>

    <a class="ri-linkedin-box-fill" target="_blank" href="https://www.linkedin.com/shareArticle?url=https://jhalabi.com/blog/2011/07/character-limit-in-yui/">
      <span class="sr-only">LinkedIn</span>
    </a>
  </div>

</main>

<footer>

    <div class="footer-top">
  
      <div class="footer-top-code">
        <p>const joni = {</p>
        <dl>
          <dt>"description":</dt>
          <dd>"Web developer, author, and conference speaker who writes technical articles, as well as creative works that focus on life as a single mother by choice.",</dd>
          <dt>"press_kit":</dt>
          <dd>"<a href="/press-kit/">Biographies, book information, and photos for public use</a>"</dd>
        </dl>
        <p>};</p>
      </div>
  
      <ul class="footer-top-socials">
        <li>
          <a href="/feed.xml" class="ri-rss-fill">Blog feed</a>
        </li>

        <li>
          <a href="https://bsky.app/profile/jonihalabi.bsky.social" class="ri-bluesky-fill">Bluesky</a>
        </li>
  
        <li>
          <a href="https://www.instagram.com/jonihalabi/" class="ri-instagram-fill">Instagram</a>
        </li>
  
        <li>
          <a href="https://www.linkedin.com/in/jonihalabi/" class="ri-linkedin-fill">LinkedIn</a>
        </li>
      </ul>
  
    </div>
  
  
  
    <div class="footer-copyright">
      <div>
        <p>
          Copyright &copy; 2025 Joni Halabi. All rights reserved.
  
          <span id="day-0">Happy Sunday! Today is French toast day in our house.</span>
          <span id="day-1">Whelp, it's Monday. Go ahead and have that extra cup of tea.</span>
          <span id="day-2">Happy "We survived Monday" day! Otherwise known as Tuesday.</span>
          <span id="day-3">Ah... Wednesday. So close, yet so far.</span>
          <span id="day-4">It's Thursday. Almost there!</span>
          <span id="day-5">Happy Friday. We made it!</span>
          <span id="day-6">It's the weekend. Hooray!</span>
        </p>
      </div>
    </div>
  </footer>
  
  <script>
    const d=new Date(); const n=d.getDay();document.getElementById('day-'+n).classList.add('show');
  </script>
  
</body>
</html>

