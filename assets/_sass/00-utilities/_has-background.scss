/**
 * Utilities: Has Background
 *
 * Special helpers for layout items that have full-bleed backgrounds.
 */


/*
 * Mixin to create all the backgrounds, plain or striped.
 */

@mixin create-background( $bg, $is_striped: 0, $is_dark_bg: 0 ) {
  // For plain backgrounds.
  @if $is_striped == 0 {
    &, &::before {
      background: $bg;
    }
  }

  // Create stripes if we want them.
  @if $is_striped != 0 {
    &::before {
      background: $bg;
      background-image: repeating-linear-gradient(
        180deg,
        $bg,
        $bg 1rem,
        darken( $bg, 3% ) 1rem,
        darken( $bg, 3% ) 2rem );
    }
  }

  // Set the color to white if this is a dark background.
  @if $is_dark_bg != 0 {
    * { color: $white; }
  }
}



/*
 * Background class.
 */

.has-background {
  // Base styles.
  clear: both;
  margin: 0;

  // Full width.
  @include make-full-width;

  // For sections that should not have a top margin.
  &.remove-top-margin {
    margin-top: -4rem !important;
  }

  // Color options.
  &.copper       { @include create-background( $section-bg-copper,       1, 0 ) };
  &.green        { @include create-background( $section-bg-green,        1, 0 ) };
  &.green-dark   { @include create-background( $section-bg-green-dark,   0, 1 ) };
  &.grey         { @include create-background( $section-bg-grey,         0, 1 ) };
  &.grey-light   { @include create-background( $section-bg-grey-light    0, 0 ) };
  &.orange       { @include create-background( $section-bg-orange,       0, 1 ) };
  &.purple       { @include create-background( $section-bg-purple,       0, 1 ); }
  &.purple-light { @include create-background( $section-bg-purple-light, 0, 1 ); }
  &.seaweed      { @include create-background( $section-bg-seaweed,      0, 1 ); }
  &.timberwolf   { @include create-background( $section-bg-timberwolf,   1, 0 ); }
}
